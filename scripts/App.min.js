/*! wedding - v0.0.0 - 2015-12-19 */
"use strict";angular.module("_",[]).factory("_",["$window",function(a){return a._}]),angular.module("Parse",[]).factory("Parse",["$window",function(a){return a.Parse}]),angular.module("backgroundImageBackdrop",[]).directive("backgroundImageBackdrop",["$q","$compile","$timeout",function(a,b,c){var d=function(a){var b="";return a.data.loadedImages.forEach(function(c){b+=e(a,c)}),b},e=function(a,b){var c="url("+b+")";return'<div class="background backdrop-full backdrop-fill background-image" style="opacity: 1; background-image: '+c+';"></div>'},f=function(a){return'<div class="backdrop">'+(a.data.loadedImages.length?d(a):"")+"</div>"},g=function(c,d,g){function h(b){var d=a.defer(),e=new Image;return e.onload=function(a){c.data.loadedImages.push(b),c.$apply(),d.resolve(b)},e.onerror=function(a){d.reject(d)},e.src=b,d.promise}var i=d,j=a.when(1);c.data={loadedImages:[],backgroundShadow:""};var k=function(){console.log("redrawing background images",i)};c.$on("backgroundImageBackdrop:update",function(a,b){console.log("My parent called me with this data: ",b),b.backgroundShadow!==c.data.backgroundShadow&&(c.data.backgroundShadow=b.backgroundShadow,k())}),c.$watch("data.loadedImages.length",function(a,b){a!==b&&i.append(e(c,c.data.loadedImages[a-1]))},!0),c.images.forEach(function(a){j=j.then(function(b){return h(a)},function(b){return console.log("Could not load image source:",b),h(a)})});var l=b(f(c))(c);i.replaceWith(l),i=l};return{restrict:"E",scope:{images:"="},link:g,replace:!0}}]),angular.module("moment",[]).factory("moment",["$window",function(a){return a.moment}]),angular.module("$",[]).factory("query",["$window","_","$q","$location",function(a,b,c){var d={dict:{},getSearch:function(a,b){var c="?";return b&&(c="&"),c+Object.keys(a).reduce(function(b,c){return b.push(c+"="+encodeURIComponent(a[c])),b},[]).join("&")},setSearch:function(b){a.location.search=d.getSearch(b)},getChangedQuery:function(a){for(var b in a)a.hasOwnProperty(b)&&(d.dict[b]=a[b],null===a[b]&&delete d.dict[b]);return d.dict},changeSearch:function(a){return d.setSearch(d.getChangedQuery(a))},updateSearch:function(a){return c(function(c){d.dict=b.pick(b.extend(d.dict,a),b.identity),c(d.getSearch(d.dict))})}};return a.location.search.substr(1).split("&").forEach(function(a){d.dict[a.split("=")[0]]=a.split("=")[1]}),d}]),angular.module("Helper",[]).factory("ByteSize",[function(){return{bytesToSize:function(a){var b=["Bytes","KB","MB","GB","TB"];if(0==a)return"0 Byte";var c=parseInt(Math.floor(Math.log(a)/Math.log(1024)));return Math.round(a/Math.pow(1024,c),2)+" "+b[c]},formatBytes:function(a,b){if(0==a)return"0 Byte";var c=1e3,d=b+1||3,e=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],f=Math.floor(Math.log(a)/Math.log(c));return(a/Math.pow(c,f)).toPrecision(d)+" "+e[f]}}}]).factory("Helper",[function(){return{isAboveZero:function(a){return this.isNumeric(a)&&a>0},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},plural:function(a,b){return b&&b>1?a+"s":a},twoDigitFormat:function(a){return("0"+a).slice(-2)},getContrast50:function(a){return parseInt(a,16)>8388607.5?"black":"white"},range:function(a,b,c){1===arguments.length&&(b=a,a=0),b=b||0,c=c||1;for(var d=[];(b-a)*c>0;a+=c)d.push(a);return d},upperCase:function(a){return a.substring(0,1).toUpperCase()+a.substring(1)},validateEmail:function(a){var b=/\S+@\S+\.\S+/;return b.test(a)},filter:function(a){return a.filter(function(a){return a})},trim:function(a){return a.map(function(a){return a.trim()})},trimAndSplitStringList:function(a){return console.log(a,a.indexOf(","),a.indexOf(";")),a.indexOf(",")>-1?this.filter(this.trim(a.split(","))):a.indexOf(";")>-1?this.filter(this.trim(a.split(";"))):this.trim([a])}}}]),angular.module("WeddingApp",["$","_","Parse","Helper","ngAnimate","backgroundImageBackdrop","youtube-embed"]).filter("capitalize",[function(){return function(a,b){return null!=a&&(a=a.toLowerCase()),a.substring(0,1).toUpperCase()+a.substring(1)}}]);